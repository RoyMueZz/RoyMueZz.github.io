<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>好记性不如烂键盘</title>
  
  <subtitle>Keyboard beyond the memory</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="http://roymue.gitee.io/blog/"/>
  <updated>2019-08-10T04:09:29.591Z</updated>
  <id>http://roymue.gitee.io/blog/</id>
  
  <author>
    <name>makotoButoMiao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>工具函数</title>
    <link href="http://roymue.gitee.io/blog/%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0.html"/>
    <id>http://roymue.gitee.io/blog/工具函数.html</id>
    <published>2019-08-08T05:06:13.000Z</published>
    <updated>2019-08-10T04:09:29.591Z</updated>
    
    <content type="html"><![CDATA[<pre><code>![工具函数](https://makotobuto.oss-cn-shenzhen.aliyuncs.com/picgo/mak_20198101127.jpg?Expires=1565413561&amp;OSSAccessKeyId=TMP.hX4oCf1JcW7kjyCYpo2ECWSzj6wdiBJQsbvVXF5jSAmVFe5CzE3PXAD6qsgiQCMRa5egqTBPen7ZayPtWvhoqmg1CYFuZ761H6juNBD67RTbqAHZMp4NPsR2exmLwJ.tmp&amp;Signature=JjHVXGFGo2GIfBLjmkMa64Om7es%3D)</code></pre><ul><li>字符串转数组对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串数据结构</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'&#123;"fileId":20945,"folderId":1,"uploadId":1401,"name":"2019-7-10 10-25-49.JPG","urlName":"6a957d583561508.JPG"&#125;,&#123;"fileId":20952,"folderId":1,"uploadId":1409,"name":"Koala.jpg","urlName":"4b6981873d21c8e.jpg"&#125;,&#123;"fileId":20951,"folderId":1,"uploadId":1408,"name":"Koala.jpg","urlName":"e7a9380346ce52a.jpg"&#125;'</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setAttachmentValue</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (data) &#123;</span><br><span class="line">          <span class="keyword">var</span> _dataStr = data.substring(<span class="number">0</span>, data.length).replace(<span class="regexp">/&#125;,&#123;/g</span>, <span class="string">'&#125;,,&#123;'</span>).replace(<span class="regexp">/\[/g</span>, <span class="string">''</span>).replace(<span class="regexp">/\]/g</span>, <span class="string">''</span>);</span><br><span class="line">          <span class="keyword">if</span> (_dataStr.indexOf(<span class="string">',,'</span>) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">              data = _dataStr.split(<span class="string">",,"</span>);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="keyword">var</span> _array = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">              <span class="keyword">var</span> _objStr = _dataStr.replace(<span class="regexp">/\[/g</span>, <span class="string">''</span>).replace(<span class="regexp">/\]/g</span>, <span class="string">''</span>);</span><br><span class="line">              _array.push(_objStr)</span><br><span class="line">              data = _array</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">var</span> u = <span class="number">0</span>; u &lt; data.length; u++) &#123;</span><br><span class="line">              <span class="keyword">if</span> (data[u] &amp;&amp; data[u].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                  <span class="keyword">var</span> attachmentObj = <span class="built_in">JSON</span>.parse(data[u].substring(<span class="number">0</span>, data[u].length));</span><br><span class="line">                  data[u] = attachmentObj</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> data</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> []</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt;![工具函数](https://makotobuto.oss-cn-shenzhen.aliyuncs.com/picgo/mak_20198101127.jpg?Expires=1565413561&amp;amp;OSSAccessKeyId=TMP.hX4oC
      
    
    </summary>
    
    
      <category term="前端" scheme="http://roymue.gitee.io/blog/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="javascript" scheme="http://roymue.gitee.io/blog/tags/javascript/"/>
    
  </entry>
  
</feed>
